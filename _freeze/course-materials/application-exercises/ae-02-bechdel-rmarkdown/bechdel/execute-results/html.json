{
  "hash": "ca64a716c13e66c42c14b49ba26d7ae4",
  "result": {
    "markdown": "---\ntitle: \"Bechdel\"\nauthor: \"Mine Çetinkaya-Rundel\"\nformat: html\neditor: visual\n---\n\n\nIn this mini analysis we work with the data used in the FiveThirtyEight story titled [\"The Dollar-And-Cents Case Against Hollywood's Exclusion of Women\"](https://fivethirtyeight.com/features/the-dollar-and-cents-case-against-hollywoods-exclusion-of-women/).\nYour task is to fill in the blanks denoted by `___`.\n\n## Data and packages\n\nWe start with loading the packages we'll use.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(fivethirtyeight)\nlibrary(tidyverse)\n```\n:::\n\n\nThe dataset contains information on 1794 movies released between 1970 and 2013.\nHowever we'll focus our analysis on movies released between 1990 and 2013.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel90_13 <- bechdel %>% \n  filter(between(year, 1990, 2013))\n```\n:::\n\n\nThere are `___` such movies.\n\nThe financial variables we'll focus on are the following:\n\n-   `budget_2013`: Budget in 2013 inflation adjusted dollars\n-   `domgross_2013`: Domestic gross (US) in 2013 inflation adjusted dollars\n-   `intgross_2013`: Total International (i.e., worldwide) gross in 2013 inflation adjusted dollars\n\nAnd we'll also use the `binary` and `clean_test` variables for **grouping**.\n\n## Analysis\n\nLet's take a look at how median budget and gross vary by whether the movie passed the Bechdel test, which is stored in the `binary` variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel90_13 %>%\n  group_by(binary) %>%\n  summarise(\n    med_budget = median(budget_2013),\n    med_domgross = median(domgross_2013, na.rm = TRUE),\n    med_intgross = median(intgross_2013, na.rm = TRUE)\n    )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 4\n  binary med_budget med_domgross med_intgross\n  <chr>       <dbl>        <dbl>        <dbl>\n1 FAIL    48385984.    57318606.    104475669\n2 PASS    31070724     45330446.     80124349\n```\n:::\n:::\n\n\nNext, let's take a look at how median budget and gross vary by a more detailed indicator of the Bechdel test result.\nThis information is stored in the `clean_test` variable, which takes on the following values:\n\n-   `ok` = passes test\n-   `dubious`\n-   `men` = women only talk about men\n-   `notalk` = women don't talk to each other\n-   `nowomen` = fewer than two women\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel90_13 %>%\n  #group_by(___) %>%\n  summarise(\n    med_budget = median(budget_2013),\n    med_domgross = median(domgross_2013, na.rm = TRUE),\n    med_intgross = median(intgross_2013, na.rm = TRUE)\n    )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n  med_budget med_domgross med_intgross\n       <int>        <dbl>        <dbl>\n1   37878971     52270207     93523336\n```\n:::\n:::\n\n\nIn order to evaluate how return on investment varies among movies that pass and fail the Bechdel test, we'll first create a new variable called `roi` as the ratio of the gross to budget.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel90_13 <- bechdel90_13 %>%\n  mutate(roi = (intgross_2013 + domgross_2013) / budget_2013)\n```\n:::\n\n\nLet's see which movies have the highest return on investment.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel90_13 %>%\n  arrange(desc(roi)) %>% \n  select(title, roi, year)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,615 × 3\n   title                     roi  year\n   <chr>                   <dbl> <int>\n 1 Paranormal Activity      671.  2007\n 2 The Blair Witch Project  648.  1999\n 3 El Mariachi              583.  1992\n 4 Clerks.                  258.  1994\n 5 In the Company of Men    231.  1997\n 6 Napoleon Dynamite        227.  2004\n 7 Once                     190.  2006\n 8 The Devil Inside         155.  2012\n 9 Primer                   142.  2004\n10 Fireproof                134.  2008\n# … with 1,605 more rows\n```\n:::\n:::\n\n\nBelow is a visualization of the return on investment by test result, however it's difficult to see the distributions due to a few extreme observations.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = bechdel90_13, \n       mapping = aes(x = clean_test, y = roi, color = binary)) +\n  geom_boxplot() +\n  labs(\n    title = \"Return on investment vs. Bechdel test result\",\n    x = \"Detailed Bechdel result\",\n    y = \"___\",\n    color = \"Binary Bechdel result\"\n    )\n```\n\n::: {.cell-output-display}\n![](bechdel_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nWhat are those movies with *very* high returns on investment?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel90_13 %>%\n  filter(roi > 400) %>%\n  select(title, budget_2013, domgross_2013, year)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 4\n  title                   budget_2013 domgross_2013  year\n  <chr>                         <int>         <dbl> <int>\n1 Paranormal Activity          505595     121251476  2007\n2 The Blair Witch Project      839077     196538593  1999\n3 El Mariachi                   11622       3388636  1992\n```\n:::\n:::\n\n\nZooming in on the movies with `roi < ___` provides a better view of how the medians across the categories compare:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = bechdel90_13, mapping = aes(x = clean_test, y = roi, color = binary)) +\n  geom_boxplot() +\n  labs(\n    title = \"Return on investment vs. Bechdel test result\",\n    subtitle = \"___\", # Something about zooming in to a certain level\n    x = \"Detailed Bechdel result\",\n    y = \"Return on investment\",\n    color = \"Binary Bechdel result\"\n    ) +\n  coord_cartesian(ylim = c(0, 15))\n```\n\n::: {.cell-output-display}\n![](bechdel_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "bechdel_files/figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}