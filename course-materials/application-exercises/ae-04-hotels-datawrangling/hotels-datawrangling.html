<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="hotel-bookings---data-wrangling">Hotel bookings - data
wrangling</h1>
<p>Mine Çetinkaya-Rundel</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># From TidyTuesday: https://github.com/rfordatascience/tidytuesday/blob/master/data/2020/2020-02-11/readme.md</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>hotels <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-11/hotels.csv&quot;</span>)</span></code></pre></div>
<h2 id="exercises">Exercises</h2>
<h3 id="exercise-1">Exercise 1.</h3>
<p>Warm up! Take a look at an overview of the data with the
<code>skim()</code> function.</p>
<p><strong>Note:</strong> I already gave you the answer to this
exercise. You just need to knit the document and view the output. A
definition of all variables is given in the <a href="#data-dictionary">Data dictionary</a> section at the end, though
you don’t need to familiarize yourself with all variables in order to
work through these exercises.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(hotels)</span></code></pre></div>
<table>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">hotels</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">119390</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">32</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">13</td>
</tr>
<tr class="odd">
<td align="left">Date</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">18</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p>Data summary</p>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hotel</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">12</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">arrival_date_month</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">meal</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">country</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">178</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">market_segment</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">13</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">distribution_channel</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">reserved_room_type</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">assigned_room_type</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">deposit_type</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">agent</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">334</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">company</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">353</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">customer_type</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">15</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">reservation_status</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: Date</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">min</th>
<th align="left">max</th>
<th align="left">median</th>
<th align="right">n_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">reservation_status_date</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2014-10-17</td>
<td align="left">2017-09-14</td>
<td align="left">2016-08-07</td>
<td align="right">926</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">is_canceled</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.37</td>
<td align="right">0.48</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">▇▁▁▁▅</td>
</tr>
<tr class="even">
<td align="left">lead_time</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">104.01</td>
<td align="right">106.86</td>
<td align="right">0.00</td>
<td align="right">18.00</td>
<td align="right">69.00</td>
<td align="right">160</td>
<td align="right">737</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">arrival_date_year</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2016.16</td>
<td align="right">0.71</td>
<td align="right">2015.00</td>
<td align="right">2016.00</td>
<td align="right">2016.00</td>
<td align="right">2017</td>
<td align="right">2017</td>
<td align="left">▃▁▇▁▆</td>
</tr>
<tr class="even">
<td align="left">arrival_date_week_number</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">27.17</td>
<td align="right">13.61</td>
<td align="right">1.00</td>
<td align="right">16.00</td>
<td align="right">28.00</td>
<td align="right">38</td>
<td align="right">53</td>
<td align="left">▅▇▇▇▅</td>
</tr>
<tr class="odd">
<td align="left">arrival_date_day_of_month</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">15.80</td>
<td align="right">8.78</td>
<td align="right">1.00</td>
<td align="right">8.00</td>
<td align="right">16.00</td>
<td align="right">23</td>
<td align="right">31</td>
<td align="left">▇▇▇▇▆</td>
</tr>
<tr class="even">
<td align="left">stays_in_weekend_nights</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.93</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">stays_in_week_nights</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.50</td>
<td align="right">1.91</td>
<td align="right">0.00</td>
<td align="right">1.00</td>
<td align="right">2.00</td>
<td align="right">3</td>
<td align="right">50</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">adults</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.86</td>
<td align="right">0.58</td>
<td align="right">0.00</td>
<td align="right">2.00</td>
<td align="right">2.00</td>
<td align="right">2</td>
<td align="right">55</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">children</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">0.10</td>
<td align="right">0.40</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">babies</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.01</td>
<td align="right">0.10</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">is_repeated_guest</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.03</td>
<td align="right">0.18</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">previous_cancellations</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.09</td>
<td align="right">0.84</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">26</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">previous_bookings_not_canceled</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.14</td>
<td align="right">1.50</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">72</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">booking_changes</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.22</td>
<td align="right">0.65</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">21</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">days_in_waiting_list</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.32</td>
<td align="right">17.59</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">391</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">adr</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">101.83</td>
<td align="right">50.54</td>
<td align="right">-6.38</td>
<td align="right">69.29</td>
<td align="right">94.58</td>
<td align="right">126</td>
<td align="right">5400</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">required_car_parking_spaces</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.06</td>
<td align="right">0.25</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">total_of_special_requests</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.57</td>
<td align="right">0.79</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
<h3 id="exercise-2">Exercise 2.</h3>
<p>Are people traveling on a whim? Let’s see…</p>
<p>Fill in the blanks for filtering for hotel bookings where the guest
is <strong>not</strong> from the US (<code>country</code> code
<code>&quot;USA&quot;</code>) and the <code>lead_time</code> is less than 1
day.</p>
<p><strong>Note:</strong> You will need to set <code>eval=TRUE</code>
when you have an answer you want to try out.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>hotels <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    country ____ <span class="st">&quot;USA&quot;</span>, </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    lead_time ____ ____</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<h3 id="exercise-3">Exercise 3.</h3>
<p>How many bookings involve at least 1 child <strong>or</strong>
baby?</p>
<p>In the following chunk, replace</p>
<ul>
<li><code>[AT LEAST]</code> with the logical operator for “at least” (in
two places)</li>
<li><code>[OR]</code> with the logical operator for “or”</li>
</ul>
<p><strong>Note:</strong> You will need to set <code>eval=TRUE</code>
when you have an answer you want to try out.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>hotels <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    children [AT LEAST] <span class="dv">1</span> [OR] babies [AT LEAST] <span class="dv">1</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<h3 id="exercise-4">Exercise 4.</h3>
<p>Do you think it’s more likely to find bookings with children or
babies in city hotels or resort hotels? Test your intuition. Using
<code>filter()</code> determine the number of bookings in resort hotels
that have more than 1 child <strong>or</strong> baby in the room? Then,
do the same for city hotels, and compare the numbers of rows in the
resulting filtered data frames.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pay attention to correctness and code style</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pay attention to correctness and code style</span></span></code></pre></div>
<h3 id="exercise-5">Exercise 5.</h3>
<p>Create a frequency table of the number of <code>adults</code> in a
booking. Display the results in descending order so the most common
observation is on top. What is the most common number of adults in
bookings in this dataset? Are there any surprising results?</p>
<p><strong>Note:</strong> Don’t forget to label your R chunk as well
(where it says <code>label-me-1</code>). Your label should be short,
informative, and shouldn’t include spaces. It also shouldn’t repeat a
previous label, otherwise R Markdown will give you an error about
repeated R chunk labels.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pay attention to correctness and code style</span></span></code></pre></div>
<h3 id="exercise-6">Exercise 6.</h3>
<p>Repeat Exercise 5, once for canceled bookings
(<code>is_canceled</code> coded as 1) and once for not canceled bookings
(<code>is_canceled</code> coded as 0). What does this reveal about the
surprising results you spotted in the previous exercise?</p>
<p><strong>Note:</strong> Don’t forget to label your R chunk as well
(where it says <code>label-me-2</code>).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pay attention to correctness and code style</span></span></code></pre></div>
<h3 id="exercise-7">Exercise 7.</h3>
<p>Calculate minimum, mean, median, and maximum average daily rate
(<code>adr</code>) grouped by <code>hotel</code> type so that you can
get these statistics separately for resort and city hotels. Which type
of hotel is higher, on average?</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pay attention to correctness and code style</span></span></code></pre></div>
<h3 id="exercise-8">Exercise 8.</h3>
<p>We observe two unusual values in the summary statistics above – a
negative minimum, and a very high maximum). What types of hotels are
these? Locate these observations in the dataset and find out the arrival
date (year and month) as well as how many people (adults, children, and
babies) stayed in the room. You can investigate the data in the viewer
to locate these values, but preferably you should identify them in a
reproducible way with some code.</p>
<p><strong>Hint:</strong> For example, you can <code>filter</code> for
the given <code>adr</code> amounts and <code>select</code> the relevant
columns.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pay attention to correctness and code style</span></span></code></pre></div>
<h2 id="data-dictionary">Data dictionary</h2>
<p>Below is the full data dictionary. Note that it is long (there are
lots of variables in the data), but we will be using a limited set of
the variables for our analysis.</p>
<table>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="left">class</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hotel</td>
<td align="left">character</td>
<td align="left">Hotel (H1 = Resort Hotel or H2 = City Hotel)</td>
</tr>
<tr class="even">
<td align="left">is_canceled</td>
<td align="left">double</td>
<td align="left">Value indicating if the booking was canceled (1) or not
(0)</td>
</tr>
<tr class="odd">
<td align="left">lead_time</td>
<td align="left">double</td>
<td align="left">Number of days that elapsed between the entering date
of the booking into the PMS and the arrival date</td>
</tr>
<tr class="even">
<td align="left">arrival_date_year</td>
<td align="left">double</td>
<td align="left">Year of arrival date</td>
</tr>
<tr class="odd">
<td align="left">arrival_date_month</td>
<td align="left">character</td>
<td align="left">Month of arrival date</td>
</tr>
<tr class="even">
<td align="left">arrival_date_week_number</td>
<td align="left">double</td>
<td align="left">Week number of year for arrival date</td>
</tr>
<tr class="odd">
<td align="left">arrival_date_day_of_month</td>
<td align="left">double</td>
<td align="left">Day of arrival date</td>
</tr>
<tr class="even">
<td align="left">stays_in_weekend_nights</td>
<td align="left">double</td>
<td align="left">Number of weekend nights (Saturday or Sunday) the guest
stayed or booked to stay at the hotel</td>
</tr>
<tr class="odd">
<td align="left">stays_in_week_nights</td>
<td align="left">double</td>
<td align="left">Number of week nights (Monday to Friday) the guest
stayed or booked to stay at the hotel</td>
</tr>
<tr class="even">
<td align="left">adults</td>
<td align="left">double</td>
<td align="left">Number of adults</td>
</tr>
<tr class="odd">
<td align="left">children</td>
<td align="left">double</td>
<td align="left">Number of children</td>
</tr>
<tr class="even">
<td align="left">babies</td>
<td align="left">double</td>
<td align="left">Number of babies</td>
</tr>
<tr class="odd">
<td align="left">meal</td>
<td align="left">character</td>
<td align="left">Type of meal booked. Categories are presented in
standard hospitality meal packages: <br> Undefined/SC – no meal
package;<br>BB – Bed &amp; Breakfast; <br> HB – Half board (breakfast
and one other meal – usually dinner); <br> FB – Full board (breakfast,
lunch and dinner)</td>
</tr>
<tr class="even">
<td align="left">country</td>
<td align="left">character</td>
<td align="left">Country of origin. Categories are represented in the
ISO 3155–3:2013 format</td>
</tr>
<tr class="odd">
<td align="left">market_segment</td>
<td align="left">character</td>
<td align="left">Market segment designation. In categories, the term
“TA” means “Travel Agents” and “TO” means “Tour Operators”</td>
</tr>
<tr class="even">
<td align="left">distribution_channel</td>
<td align="left">character</td>
<td align="left">Booking distribution channel. The term “TA” means
“Travel Agents” and “TO” means “Tour Operators”</td>
</tr>
<tr class="odd">
<td align="left">is_repeated_guest</td>
<td align="left">double</td>
<td align="left">Value indicating if the booking name was from a
repeated guest (1) or not (0)</td>
</tr>
<tr class="even">
<td align="left">previous_cancellations</td>
<td align="left">double</td>
<td align="left">Number of previous bookings that were cancelled by the
customer prior to the current booking</td>
</tr>
<tr class="odd">
<td align="left">previous_bookings_not_canceled</td>
<td align="left">double</td>
<td align="left">Number of previous bookings not cancelled by the
customer prior to the current booking</td>
</tr>
<tr class="even">
<td align="left">reserved_room_type</td>
<td align="left">character</td>
<td align="left">Code of room type reserved. Code is presented instead
of designation for anonymity reasons</td>
</tr>
<tr class="odd">
<td align="left">assigned_room_type</td>
<td align="left">character</td>
<td align="left">Code for the type of room assigned to the booking.
Sometimes the assigned room type differs from the reserved room type due
to hotel operation reasons (e.g. overbooking) or by customer request.
Code is presented instead of designation for anonymity reasons</td>
</tr>
<tr class="even">
<td align="left">booking_changes</td>
<td align="left">double</td>
<td align="left">Number of changes/amendments made to the booking from
the moment the booking was entered on the PMS until the moment of
check-in or cancellation</td>
</tr>
<tr class="odd">
<td align="left">deposit_type</td>
<td align="left">character</td>
<td align="left">Indication on if the customer made a deposit to
guarantee the booking. This variable can assume three categories:<br>No
Deposit – no deposit was made;<br>Non Refund – a deposit was made in the
value of the total stay cost;<br>Refundable – a deposit was made with a
value under the total cost of stay.</td>
</tr>
<tr class="even">
<td align="left">agent</td>
<td align="left">character</td>
<td align="left">ID of the travel agency that made the booking</td>
</tr>
<tr class="odd">
<td align="left">company</td>
<td align="left">character</td>
<td align="left">ID of the company/entity that made the booking or
responsible for paying the booking. ID is presented instead of
designation for anonymity reasons</td>
</tr>
<tr class="even">
<td align="left">days_in_waiting_list</td>
<td align="left">double</td>
<td align="left">Number of days the booking was in the waiting list
before it was confirmed to the customer</td>
</tr>
<tr class="odd">
<td align="left">customer_type</td>
<td align="left">character</td>
<td align="left">Type of booking, assuming one of four
categories:<br>Contract - when the booking has an allotment or other
type of contract associated to it;<br>Group – when the booking is
associated to a group;<br>Transient – when the booking is not part of a
group or contract, and is not associated to other transient
booking;<br>Transient-party – when the booking is transient, but is
associated to at least other transient booking</td>
</tr>
<tr class="even">
<td align="left">adr</td>
<td align="left">double</td>
<td align="left">Average Daily Rate as defined by dividing the sum of
all lodging transactions by the total number of staying nights</td>
</tr>
<tr class="odd">
<td align="left">required_car_parking_spaces</td>
<td align="left">double</td>
<td align="left">Number of car parking spaces required by the
customer</td>
</tr>
<tr class="even">
<td align="left">total_of_special_requests</td>
<td align="left">double</td>
<td align="left">Number of special requests made by the customer
(e.g. twin bed or high floor)</td>
</tr>
<tr class="odd">
<td align="left">reservation_status</td>
<td align="left">character</td>
<td align="left">Reservation last status, assuming one of three
categories:<br>Canceled – booking was canceled by the
customer;<br>Check-Out – customer has checked in but already
departed;<br>No-Show – customer did not check-in and did inform the
hotel of the reason why</td>
</tr>
<tr class="even">
<td align="left">reservation_status_date</td>
<td align="left">double</td>
<td align="left">Date at which the last status was set. This variable
can be used in conjunction with the ReservationStatus to understand when
was the booking canceled or when did the customer checked-out of the
hotel</td>
</tr>
</tbody>
</table>

</body>
</html>
